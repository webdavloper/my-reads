{"version":3,"sources":["api/BooksAPI.js","components/Header/index.js","components/Toast/index.js","components/Placeholder/index.js","components/Book/index.js","components/Shelf/index.js","pages/home/index.js","pages/search/index.js","main/App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","concat","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","then","res","json","search","query","data","books","Header","props","react_default","a","createElement","className","Link","to","Toast","active","text","Placeholder","bundle_default","width","height","Book","changeShelf","onChangeShelf","title","previewLink","imageLinks","maturityRating","authors","href","rel","target","src","thumbnail","alt","onChange","_ref","value","defaultValue","disabled","length","map","author","index","key","Shelf","loading","total","components_Book","reverse","Home","components_Shelf","filter","b","dist","color","Search","state","_this","result","handleResult","setState","searchBook","_callee","regenerator_default","wrap","_context","prev","next","sent","error","t0","console","log","stop","_this2","this","_this$state","type","placeholder","Component","App","toastMsg","toConsumableArray","link","setTimeout","BrowserRouter","components_Header","Switch","Route","exact","path","render","home","pages_search","Redirect","from","components_Toast","ReactDOM","src_main_App","document","getElementById"],"mappings":"qWACMA,EAAM,wCAIRC,EAAQC,aAAaD,MACpBA,IACHA,EAAQC,aAAaD,MAAQE,KAAKC,SAASC,SAAS,IAAIC,QAAQ,IAElE,IAAMC,EAAU,CACdC,OAAU,mBACVC,cAAiBR,GAaNS,EAAS,SAACC,EAAMC,GAAP,OACpBC,MAAK,GAAAC,OAAId,EAAJ,WAAAc,OAAiBH,EAAKI,IAAM,CAC/BC,OAAQ,MACRT,QAAQU,OAAAC,EAAA,EAAAD,CAAA,GACHV,EADE,CAELY,eAAgB,qBAElBC,KAAMC,KAAKC,UAAU,CAAEV,YACtBW,KAAK,SAAAC,GAAG,OAAIA,EAAIC,UAERC,EAAS,SAACC,GAAD,OACpBd,MAAK,GAAAC,OAAId,EAAJ,WAAkB,CACrBgB,OAAQ,OACRT,QAAQU,OAAAC,EAAA,EAAAD,CAAA,GACHV,EADE,CAELY,eAAgB,qBAElBC,KAAMC,KAAKC,UAAU,CAAEK,YACtBJ,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAK,GAAI,OAAIA,EAAKC,0BC/BRC,EAPO,SAAAC,GAAK,OACzBC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACZH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAG,KAAT,eCMSC,SAVD,SAAAP,GAAK,OACjBC,EAAAC,EAAAC,cAAA,OAAKC,UAAS,SAAArB,OAAWiB,EAAMQ,OAAS,OAAS,OAC9CR,EAAMS,4CCFIC,EAAA,kBACbT,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,GAAIC,OAAQ,KAC7BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,KAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAEhCZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,GAAIC,OAAQ,KAC7BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,KAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAEhCZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,GAAIC,OAAQ,KAC7BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,KAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAEhCZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,GAAIC,OAAQ,KAC7BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,KAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAEhCZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,MAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,GAAIC,OAAQ,KAC7BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,KAC9BZ,EAAAC,EAAAC,cAACQ,EAAAT,EAAD,CAAUU,MAAO,IAAKC,OAAQ,QCMrBC,SApCF,SAAAd,GAAS,IACZpB,EAAqCoB,EAArCpB,KAAqBmC,EAAgBf,EAA/BgB,cACNC,EAAmErC,EAAnEqC,MAAOpC,EAA4DD,EAA5DC,MAAOqC,EAAqDtC,EAArDsC,YAAaC,EAAwCvC,EAAxCuC,WAAYC,EAA4BxC,EAA5BwC,eAAgBC,EAAYzC,EAAZyC,QAI/D,OACEpB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,KAAGmB,KAAMJ,EAAaK,IAAI,sBAAsBC,OAAO,UACrDvB,EAAAC,EAAAC,cAAA,OAAKsB,IAAKN,EAAaA,EAAWO,UAAY,GAAIC,IAAKV,IACnC,WAAnBG,GAA+BnB,EAAAC,EAAAC,cAAA,SAAOC,UAAU,yBAAjB,QAElCH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,UAAQyB,SAVU,SAAAC,GAAA,IAAoBhD,EAApBgD,EAAGL,OAAUM,MAAb,OAAkCf,EAAYnC,EAAMC,IAUjCkD,aAAclD,GAAS,QAC1DoB,EAAAC,EAAAC,cAAA,UAAQ6B,UAAQ,GAAhB,kBACA/B,EAAAC,EAAAC,cAAA,UAAQ2B,MAAM,oBAAd,WACA7B,EAAAC,EAAAC,cAAA,UAAQ2B,MAAM,cAAd,kBACA7B,EAAAC,EAAAC,cAAA,UAAQ2B,MAAM,QAAd,QACA7B,EAAAC,EAAAC,cAAA,UAAQ2B,MAAM,QAAd,GAAA/C,OAA0BF,EAAiB,SAAT,YAIxCoB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBACZH,EAAAC,EAAAC,cAAA,sBAAckB,GAAWA,EAAQY,OAAS,EAAI,IAAM,IAClDZ,EAA6BA,EAAQa,IAAI,SAACC,EAAQC,GAAT,OAAmBnC,EAAAC,EAAAC,cAAA,MAAIkC,IAAKD,GAAQD,KAAnElC,EAAAC,EAAAC,cAAA,yBCGLmC,EAzBD,SAAAtC,GAAS,IACbuC,EAAmEvC,EAAnEuC,QAAStB,EAA0DjB,EAA1DiB,MAAOnB,EAAmDE,EAAnDF,MAAwB0C,EAA2BxC,EAA5CF,MAASmC,OAAiBjB,EAAkBhB,EAAlBgB,cAEzD,OACEf,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,UAAKc,EAAL,KAAcuB,EAAd,KAECD,GAAWtC,EAAAC,EAAAC,cAACO,EAAD,MAEZT,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aACXN,EAAMoC,IAAI,SAAAtD,GAAI,OACbqB,EAAAC,EAAAC,cAACsC,EAAD,CAAMJ,IAAKzD,EAAKI,GAAIJ,KAAMA,EAAMoC,cAAeA,MAC/C0B,qBC2BKC,EArCF,SAAA3C,GAAS,IACZuC,EAAkCvC,EAAlCuC,QAASzC,EAAyBE,EAAzBF,MAAOkB,EAAkBhB,EAAlBgB,cAExB,OACEf,EAAAC,EAAAC,cAAA,QAAMnB,GAAG,QACPiB,EAAAC,EAAAC,cAACyC,EAAD,CACEL,QAASA,EACTtB,MAAM,UACNnB,MAAOA,EAAM+C,OAAO,SAAAC,GAAC,MAAgB,qBAAZA,EAAEjE,QAC3BmC,cAAeA,IAEjBf,EAAAC,EAAAC,cAACyC,EAAD,CACEL,QAASA,EACTtB,MAAM,iBACNnB,MAAOA,EAAM+C,OAAO,SAAAC,GAAC,MAAgB,eAAZA,EAAEjE,QAC3BmC,cAAeA,IAEjBf,EAAAC,EAAAC,cAACyC,EAAD,CACEL,QAASA,EACTtB,MAAM,OACNnB,MAAOA,EAAM+C,OAAO,SAAAC,GAAC,MAAgB,SAAZA,EAAEjE,QAC3BmC,cAAeA,IAGjBf,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMD,UAAU,WAAWE,GAAG,WAC5BL,EAAAC,EAAAC,cAAC4C,EAAA,KAAD,CAAMC,MAAM,eCuDLC,qNAzEbC,MAAQ,CAENjC,MAAOkC,EAAKnD,MAAMiB,MAClBrB,MAAO,GACPwD,OAAQ,MAGVC,aAAe,SAACzE,EAAMC,GAAU,IACtBuE,EAAWD,EAAKD,MAAhBE,OAERD,EAAKG,SAAS,CAAEF,OAAQA,EAAOP,OAAO,SAAAC,GAAC,OAAIA,EAAE9D,KAAOJ,EAAKI,OACzDmE,EAAKnD,MAAMgB,cAAcpC,EAAMC,MAGjC0E,iDAAa,SAAAC,EAAA3B,GAAA,IAAAjC,EAAAwD,EAAA,OAAAK,EAAAvD,EAAAwD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAA0BjE,EAA1BiC,EAASL,OAAUM,MAAnB6B,EAAAC,KAAA,GAELhE,EAAMqC,OAFD,CAAA0B,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAGclE,EAAOC,GAHrB,OAGDwD,EAHCO,EAAAG,KAIWV,EAAVW,MASNZ,EAAKG,SAAS,SAACJ,EAAOlD,GAAR,MAAmB,CAC/BoD,OAAQ,GACRxD,MAAO,GACPqB,MAAO,kCATTkC,EAAKG,SAAS,SAACJ,EAAOlD,GAAR,MAAmB,CAC/BoD,SACAxD,QACAqB,MAAK,0BAVF0C,EAAAE,KAAA,iBAoBPV,EAAKG,SAAS,SAACJ,EAAOlD,GAAR,MAAmB,CAC/BoD,OAAQ,GACRxD,MAAO,GACPqB,MAAOjB,EAAMiB,SAvBR,QAAA0C,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAK,GAAAL,EAAA,SA2BTM,QAAQC,IAARP,EAAAK,IA3BS,yBAAAL,EAAAQ,SAAAX,EAAA,gJA+BJ,IAAAY,EAAAC,KAAAC,EAC0BD,KAAKnB,MAA9BE,EADDkB,EACClB,OAAQxD,EADT0E,EACS1E,MAAOqB,EADhBqD,EACgBrD,MACfsC,EAAec,KAAfd,WACR,OACEtD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAC4C,EAAA,OAAD,MACA9C,EAAAC,EAAAC,cAAA,SAAOoE,KAAK,SAAS3C,SAAU2B,EAAYiB,YAAY,YAGzDvE,EAAAC,EAAAC,cAAA,QAAMnB,GAAG,WACPiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,SAAIc,EAAJ,IAAYrB,GAASK,EAAAC,EAAAC,cAAA,YAAOP,KAG9BK,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACTgD,EAAOnB,QAAUmB,EAAOlB,IAAI,SAAAtD,GAAI,OACjCqB,EAAAC,EAAAC,cAACsC,EAAD,CAAMJ,IAAKzD,EAAKI,GAAIJ,KAAMA,EAAMoC,cAAeoD,EAAKf,4BAvE/CoB,cCyENC,6MArEbxB,MAAQ,CACNpD,MAAO,GACP6E,SAAU,GACVpC,SAAS,KAGXxB,YAAc,SAACnC,EAAMC,GAAU,IACvBiB,EAAUqD,EAAKD,MAAfpD,MAMN,OALAlB,EAAKC,MAAQA,EACbiB,EAAK,GAAAf,OAAAG,OAAA0F,EAAA,EAAA1F,CAAOY,EAAM+C,OAAO,SAAAC,GAAC,OAAIA,EAAE9D,KAAOJ,EAAKI,MAAvC,CAA4CJ,IAEjDuE,EAAKG,SAAS,CAAExD,QAAO+E,KAAMhG,IAErBA,GACN,IAAK,mBACHsE,EAAKG,SAAS,CAAEqB,SAAQ,0BACxB,MACF,IAAK,OACHxB,EAAKG,SAAS,CAAEqB,SAAQ,uBACxB,MACF,IAAK,aACHxB,EAAKG,SAAS,CAAEqB,SAAQ,iCACxB,MACF,QACExB,EAAKG,SAAS,CAAEqB,SAAU,4BAI9BG,WAAW,kBAAM3B,EAAKG,SAAS,CAAEqB,SAAU,MAAO,KAElDhG,EAAOC,EAAMC,qNRtBfC,MAAK,GAAAC,OAAId,EAAJ,UAAiB,CAAEO,YACrBgB,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAK,GAAI,OAAIA,EAAKC,eQwBbA,SACNuE,KAAKf,SAAS,CAAExD,QAAOyC,SAAS,uIAGzB,IAAA+B,EAC8BD,KAAKnB,MAAlCpD,EADDwE,EACCxE,MAAOyC,EADR+B,EACQ/B,QAASoC,EADjBL,EACiBK,SAChB5D,EAAgBsD,KAAhBtD,YACR,OACEd,EAAAC,EAAAC,cAAC4E,EAAA,EAAD,KACE9E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC6E,EAAD,MACA/E,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,KACEhF,EAAAC,EAAAC,cAAC+E,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAC5BpF,EAAAC,EAAAC,cAACmF,EAAD,CACExF,MAAOA,EACPyC,QAASA,EACTvB,cAAeD,OAGnBd,EAAAC,EAAAC,cAAC+E,EAAA,EAAD,CAAOE,KAAK,UAAUC,OAAQ,kBAC5BpF,EAAAC,EAAAC,cAACoF,EAAD,CACEvE,cAAeD,EACfE,MAAM,kDAIVhB,EAAAC,EAAAC,cAACqF,EAAA,EAAD,CAAUC,KAAK,IAAInF,GAAG,OAExBL,EAAAC,EAAAC,cAACuF,EAAD,CAAOlF,SAAUmE,EAAUlE,KAAMkE,aAhEzBF,aCNlBkB,IAASN,OAAOpF,EAAAC,EAAAC,cAACyF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.7ca2faba.chunk.js","sourcesContent":["\r\nconst api = \"https://reactnd-books-api.udacity.com\"\r\n\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token\r\nif (!token)\r\n  token = localStorage.token = Math.random().toString(36).substr(-8)\r\n\r\nconst headers = {\r\n  'Accept': 'application/json',\r\n  'Authorization': token\r\n}\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.book)\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then(res => res.json())\r\n    .then(data => data.books)\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ shelf })\r\n  }).then(res => res.json())\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: 'POST',\r\n    headers: {\r\n      ...headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ query })\r\n  }).then(res => res.json())\r\n    .then(data => data.books)\r\n","import './styles.css'\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport const Header = props =>\r\n  <header className=\"header\">\r\n    <h1 className=\"header__logo\">\r\n      <Link to=\"/\">My Reads</Link>\r\n    </h1>\r\n  </header>\r\n\r\nexport default Header","import './style.css'\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Toast = props =>\r\n  <div className={`toast ${props.active ? 'show' : null}`}>\r\n    {props.text}\r\n  </div>\r\n\r\nToast.propTypes = {\r\n  active: PropTypes.bool.isRequired,\r\n  text: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Toast","import './style.css'\r\nimport React from 'react'\r\nimport Skeleton from 'react-loading-skeleton'\r\n\r\nexport default () =>\r\n  <ul className=\"skeleton\">\r\n    <li>\r\n      <Skeleton width={136} height={183} />\r\n      <Skeleton width={61} height={18} />\r\n      <Skeleton width={136} height={12} />\r\n      <Skeleton width={136} height={12} />\r\n    </li>\r\n    <li>\r\n      <Skeleton width={136} height={183} />\r\n      <Skeleton width={61} height={18} />\r\n      <Skeleton width={136} height={12} />\r\n      <Skeleton width={136} height={12} />\r\n    </li>\r\n    <li>\r\n      <Skeleton width={136} height={183} />\r\n      <Skeleton width={61} height={18} />\r\n      <Skeleton width={136} height={12} />\r\n      <Skeleton width={136} height={12} />\r\n    </li>\r\n    <li>\r\n      <Skeleton width={136} height={183} />\r\n      <Skeleton width={61} height={18} />\r\n      <Skeleton width={136} height={12} />\r\n      <Skeleton width={136} height={12} />\r\n    </li>\r\n    <li>\r\n      <Skeleton width={136} height={183} />\r\n      <Skeleton width={61} height={18} />\r\n      <Skeleton width={136} height={12} />\r\n      <Skeleton width={136} height={12} />\r\n    </li>\r\n  </ul>\r\n","import './style.css'\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Book = props => {\r\n  const { book, onChangeShelf: changeShelf } = props\r\n  const { title, shelf, previewLink, imageLinks, maturityRating, authors } = book\r\n\r\n  const handleChangeShelf = ({ target: { value: shelf } }) => changeShelf(book, shelf)\r\n\r\n  return (\r\n    <li className=\"book\">\r\n      <div className=\"book__cover\">\r\n        <a href={previewLink} rel=\"noopener noreferrer\" target=\"_blank\">\r\n          <img src={imageLinks ? imageLinks.thumbnail : ''} alt={title} />\r\n          {maturityRating === \"MATURE\" && <small className=\"book__maturity-rating\">+17</small>}\r\n        </a>\r\n        <div className=\"book__options\">\r\n          <select onChange={handleChangeShelf} defaultValue={shelf || 'none'}>\r\n            <option disabled>Select a shelf</option>\r\n            <option value=\"currentlyReading\">Reading</option>\r\n            <option value=\"wantToRead\">I want to read</option>\r\n            <option value=\"read\">Read</option>\r\n            <option value=\"none\">{`${!shelf ? 'None' : 'Remove'}`}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <ul className=\"book__authors\">\r\n        <small>author{authors && authors.length > 1 ? 's' : ''}</small>\r\n        {!authors ? <li>Unknown</li> : authors.map((author, index) => <li key={index}>{author}</li>)}\r\n      </ul>\r\n    </li>\r\n  )\r\n}\r\n\r\nBook.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  onChangeShelf: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Book","import './style.css'\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Placeholder from '../Placeholder'\r\nimport Book from '../Book'\r\n\r\nconst Shelf = props => {\r\n  const { loading, title, books, books: { length: total }, onChangeShelf } = props\r\n\r\n  return (\r\n    <div className=\"shelf\">\r\n      <h3>{title} ({total})</h3>\r\n\r\n      {loading && <Placeholder />}\r\n\r\n      <ul className=\"book-list\">\r\n        {books.map(book =>\r\n          <Book key={book.id} book={book} onChangeShelf={onChangeShelf} />\r\n        ).reverse()}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nShelf.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  books: PropTypes.array.isRequired,\r\n  onChangeShelf: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Shelf","import './styles.css'\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Shelf from '../../components/Shelf'\r\n\r\nimport { Plus } from 'react-feather'\r\n\r\nconst Home = props => {\r\n  const { loading, books, onChangeShelf } = props\r\n\r\n  return (\r\n    <main id=\"home\">\r\n      <Shelf\r\n        loading={loading}\r\n        title=\"Reading\"\r\n        books={books.filter(b => b.shelf === \"currentlyReading\")}\r\n        onChangeShelf={onChangeShelf}\r\n      />\r\n      <Shelf\r\n        loading={loading}\r\n        title=\"I want to read\"\r\n        books={books.filter(b => b.shelf === \"wantToRead\")}\r\n        onChangeShelf={onChangeShelf}\r\n      />\r\n      <Shelf\r\n        loading={loading}\r\n        title=\"Read\"\r\n        books={books.filter(b => b.shelf === \"read\")}\r\n        onChangeShelf={onChangeShelf}\r\n      />\r\n\r\n      <Link className=\"add-book\" to=\"/search\">\r\n        <Plus color=\"#ffffff\" />\r\n      </Link>\r\n    </main>\r\n  )\r\n}\r\n\r\nHome.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n  books: PropTypes.array.isRequired,\r\n  onChangeShelf: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Home","import './style.css'\r\nimport React, { Component } from 'react'\r\nimport { search } from '../../api/BooksAPI'\r\nimport { Search as SearchIcon } from 'react-feather'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Book from '../../components/Book'\r\n\r\nclass Search extends Component {\r\n\r\n  static propTypes = {\r\n    books: PropTypes.array,\r\n    onChangeShelf: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired\r\n  }\r\n\r\n  state = {\r\n    // books: this.props.books,\r\n    title: this.props.title,\r\n    query: '',\r\n    result: []\r\n  }\r\n\r\n  handleResult = (book, shelf) => {\r\n    const { result } = this.state\r\n\r\n    this.setState({ result: result.filter(b => b.id !== book.id) })\r\n    this.props.onChangeShelf(book, shelf)\r\n  }\r\n\r\n  searchBook = async ({ target: { value: query } }) => {\r\n    try {\r\n      if (query.length) {\r\n        const result = await search(query)\r\n        const { error } = result\r\n\r\n        if (!error) {\r\n          this.setState((state, props) => ({\r\n            result,\r\n            query,\r\n            title: `Showing results for `\r\n          }))\r\n        } else {\r\n          this.setState((state, props) => ({\r\n            result: [],\r\n            query: '',\r\n            title: 'No books found. ðŸ™'\r\n          }))\r\n        }\r\n      } else {\r\n        this.setState((state, props) => ({\r\n          result: [],\r\n          query: '',\r\n          title: props.title\r\n        }))\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { result, query, title } = this.state\r\n    const { searchBook } = this\r\n    return (\r\n      <div>\r\n        <div className=\"search-input\">\r\n          <SearchIcon />\r\n          <input type=\"search\" onChange={searchBook} placeholder=\"Search\" />\r\n        </div>\r\n\r\n        <main id=\"#search\">\r\n          <div className=\"result-message\">\r\n            <p>{title} {query && <span>{query}</span>}</p>\r\n          </div>\r\n\r\n          <div className=\"shelf\">\r\n            <ul className=\"book-list\">\r\n              {!!result.length && result.map(book => (\r\n                <Book key={book.id} book={book} onChangeShelf={this.handleResult} />\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Search","import './App.css'\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport { update, getAll } from '../api/BooksAPI'\nimport Header from '../components/Header'\nimport Toast from '../components/Toast'\nimport Home from '../pages/home'\nimport Search from '../pages/search'\n\nclass App extends Component {\n\n  state = {\n    books: [],\n    toastMsg: '',\n    loading: true\n  }\n\n  changeShelf = (book, shelf) => {\n    let { books } = this.state\n    book.shelf = shelf\n    books = [...books.filter(b => b.id !== book.id), book]\n\n    this.setState({ books, link: shelf })\n\n    switch (shelf) {\n      case 'currentlyReading':\n        this.setState({ toastMsg: `Book moved to Reading` })\n        break;\n      case 'read':\n        this.setState({ toastMsg: `Book moved to Read` })\n        break;\n      case 'wantToRead':\n        this.setState({ toastMsg: `Book moved to I want to read` })\n        break;\n      default:\n        this.setState({ toastMsg: 'Book removed from shelf' })\n        break;\n    }\n\n    setTimeout(() => this.setState({ toastMsg: '' }), 3000)\n\n    update(book, shelf)\n  }\n\n  async componentDidMount() {\n    const books = await getAll()\n    this.setState({ books, loading: false })\n  }\n\n  render() {\n    const { books, loading, toastMsg } = this.state\n    const { changeShelf } = this\n    return (\n      <BrowserRouter>\n        <div className=\"app\">\n          <Header />\n          <Switch>\n            <Route exact path=\"/\" render={() => (\n              <Home\n                books={books}\n                loading={loading}\n                onChangeShelf={changeShelf}\n              />\n            )} />\n            <Route path=\"/search\" render={() =>\n              <Search\n                onChangeShelf={changeShelf}\n                title=\"Type something to see results ðŸš€\"\n              />\n            }\n            />\n            <Redirect from=\"*\" to=\"/\" />\n          </Switch>\n          <Toast active={!!toastMsg} text={toastMsg} />\n        </div>\n      </BrowserRouter>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './main/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}